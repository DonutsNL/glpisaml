<script>
    $(function() {
        $('#keep-order').multiSelect({
            keepOrder: true,
            selectableHeader: '<b>{{AVAILABLE}}</b>',
            selectionHeader: '<b>{{SELECTED}}</b>',
            cssClass: 'multiselect',
            afterSelect: function(value, text){
                var get_val = $("#{{REQUESTED_AUTHN_CONTEXT_FIELD}}").val();
                var array = [];
                if (get_val) var array = get_val.split(',');
                if(!array.includes(value)){
                    array.push(value);
                }
                var string = array.toString();
                $("#{{REQUESTED_AUTHN_CONTEXT_FIELD}}").val(string);
                
            },
            afterDeselect: function(value, text){
                var get_val = $("#{{REQUESTED_AUTHN_CONTEXT_FIELD}}").val();
                var array = [];
                if (get_val){
                    var array = get_val.split(',');
                }
                
                var index = array.indexOf(value.toString());
                if (index !== -1) {
                  array.splice(index, 1);
                }
                var string = array.toString();
                $("#{{REQUESTED_AUTHN_CONTEXT_FIELD}}").val(string);
                
                
            }
        });
    });
</script>
<div class="phpsaml_config_wrapper tab_cadre_fixe" id="samlForm">
    <form name="form" method="post" action="{{GLPI_ROOTDOC}}" id="phpsaml_config">
        <input type="hidden" name="{{ID_FIELD}}" value="{{ID_VALUE}}">
        <h1 class="full-width">{{TITLE}}</h1>

        <div class='alert alert-info mb-o rounded-0 border-top-0 border-bottom-0 border-right-0 full-width' role='alert'>
            {{ERRORS}}
        </div>

        <h2 class="full-width">{{HEADER_GENERAL}}</h2>

        <p class="half-width">
            <em style="color:red">{{NAME_ERROR}}</em>
            <label for="{{NAME_FIELD}}">
                {{NAME_LABEL}}
                <i class="pointer fa fa-info" title="{{CONF_NAME_TITLE}}"></i>
            </label>
            <input {{DISABLED}} type="text" name="{{NAME_FIELD}}" id="{{NAME_FIELD}}" spaceholder="" title="" value="{{NAME_VALUE}}">
        </p>

        <p class="half-width">
            <em style="color:red">{{CONF_DOMAIN_ERROR}}</em>
            <label for="{{CONF_DOMAIN_FIELD}}">
                {{CONF_DOMAIN_LABEL}}
                <i class="pointer fa fa-info" title="{{CONF_DOMAIN_TITLE}}"></i>
            </label>
            <input {{DISABLED}} type="text" name="{{CONF_DOMAIN_FIELD}}" id="{{CONF_DOMAIN_FIELD}}" spaceholder="" title="" value="{{CONF_DOMAIN_VALUE}}">
        </p>

        <p class="half-width">
            <em style="color:red">{{CONF_ICON_ERROR}}</em>
            <label for="{{CONF_ICON_FIELD}}">
                {{CONF_ICON_LABEL}}
                <i class="pointer fa fa-info" title="{{CONF_ICON_NAME_TITLE}}"></i>
            </label>
            <input {{DISABLED}} type="text" name="{{CONF_ICON_FIELD}}" id="{{CONF_ICON_FIELD}}" spaceholder="" title="" value="{{CONF_ICON_VALUE}}">
        </p>
        
        <h2 class="full-width">{{HEADER_PROVIDER}}</h2>
        
        <p class="full-width">
            <em style="color:rgb(255, 153, 0)">{{SP_CERTIFICATE_VALIDATE}}</em>
            <label for="{{SP_CERTIFICATE_FIELD}}">
                {{SP_CERTIFICATE_LABEL}}
                <i class="pointer fa fa-info" title="{{SP_CERTIFICATE_TITLE}}"></i>
            </label>
            <textarea {{DISABLED}} name="{{SP_CERTIFICATE_FIELD}}" cols="50" rows="10" id="{{SP_CERTIFICATE_FIELD}}" spaceholder="" title="{{SP_CERTIFICATE_TITLE}}">{{SP_CERTIFICATE_VALUE}}</textarea>
        </p>

        <p class="full-width">
            <em style="color:red">{{SP_PRIVATE_KEY_ERROR}}</em>
            <label for="{{SP_PRIVATE_KEY_FIELD}}">
                {{SP_PRIVATE_KEY_LABEL}}
                <i class="pointer fa fa-info" title="{{SP_PRIVATE_KEY_TITLE}}"></i>
            </label>
            <textarea {{DISABLED}} name="{{SP_PRIVATE_KEY_FIELD}}" cols="50" rows="10" id="{{SP_PRIVATE_KEY_FIELD}}" spaceholder="" title="{{SP_PRIVATE_KEY_TITLE}}">{{SP_PRIVATE_KEY_VALUE}}</textarea>
        </p>

        <p class="full-width">
            <em style="color:red">{{SP_NAMEID_FORMAT_ERROR}}</em>
            <label for="{{SP_NAMEID_FORMAT_FIELD}}">
                {{SP_NAMEID_FORMAT_LABEL}}
                <i class="pointer fa fa-info" title="{{SP_NAMEID_FORMAT_TITLE}}"></i>
            </label>
            <select {{DISABLED}} name="{{SP_NAMEID_FORMAT_FIELD}}" id="{{SP_NAMEID_FORMAT_FIELD}}" title="{{SP_NAMEID_FORMAT_TITLE}}">
                {{SP_NAMEID_FORMAT_SELECT}}
            </select>
        </p>
        <br />
        <h2 class="full-width">{{HEADER_PROVIDER_CONFIG}}</h2>
        
        <p class="full-width">
            <em style="color:red">{{IDP_ENTITY_ID_ERROR}}</em>
            <label for="{{IDP_ENTITY_ID_FIELD}}">
                {{IDP_ENTITY_ID_LABEL}}
                <i class="pointer fa fa-info" title="{{IDP_ENTITY_ID_TITLE}}"></i>
            </label>
            <input {{DISABLED}} type="text" name="{{IDP_ENTITY_ID_FIELD}}" id="{{IDP_ENTITY_ID_FIELD}}" spaceholder="" title="" value="{{IDP_ENTITY_ID_VALUE}}">
        </p>

        <p class="full-width">
            <em style="color:red">{{IDP_SINGLE_SIGN_ON_SERVICE_ERROR}}</em>
            <label for="{{IDP_SINGLE_SIGN_ON_SERVICE_FIELD}}">
                {{IDP_SINGLE_SIGN_ON_SERVICE_LABEL}}
                <i class="pointer fa fa-info" title="{{IDP_SINGLE_SIGN_ON_SERVICE_TITLE}}"></i>
            </label>
            <input {{DISABLED}} type="text" name="{{IDP_SINGLE_SIGN_ON_SERVICE_FIELD}}" id="{{IDP_SINGLE_SIGN_ON_SERVICE_FIELD}}" spaceholder="" title="" value="{{IDP_SINGLE_SIGN_ON_SERVICE_VALUE}}">
        </p>

        <p class="full-width">
            <em style="color:red">{{IDP_SINGLE_LOGOUT_SERVICE_ERROR}}</em>
            <label for="{{IDP_SINGLE_LOGOUT_SERVICE_FIELD}}">
                {{IDP_SINGLE_LOGOUT_SERVICE_LABEL}} 
                <i class="pointer fa fa-info" title="{{IDP_SINGLE_LOGOUT_SERVICE_TITLE}}"></i>
            </label>
            <input {{DISABLED}} type="text" name="{{IDP_SINGLE_LOGOUT_SERVICE_FIELD}}" id="{{IDP_SINGLE_LOGOUT_SERVICE_FIELD}}" spaceholder="" title="{{IDP_SINGLE_LOGOUT_SERVICE_TITLE}}" value="{{IDP_SINGLE_LOGOUT_SERVICE_VALUE}}">
        </p>

        <p class="full-width">
            <em style="color:rgb(255, 153, 0)">{{IDP_CERTIFICATE_VALIDATE}}</em>  
            <em style="color:red">{{IDP_CERTIFICATE_ERROR}}</em>
            <label for="{{IDP_CERTIFICATE_FIELD}}">
                {{IDP_CERTIFICATE_LABEL}}
                <i class="pointer fa fa-info" title="{{IDP_CERTIFICATE_TITLE}}"></i>
            </label>
            <textarea {{DISABLED}} name="{{IDP_CERTIFICATE_FIELD}}" cols="50" rows="10" id="{{IDP_CERTIFICATE_FIELD}}" spaceholder="" title="{{IDP_CERTIFICATE_TITLE}}">{{IDP_CERTIFICATE_VALUE}}</textarea>
        </p>

        <p class="full-width">
            <em style="color:red">{{AUTHN_ERROR}}</em>
            <label for="{{REQUESTED_AUTHN_CONTEXT_FIELD}}">
                {{REQUESTED_AUTHN_CONTEXT_LABEL}}
                <i class="pointer fa fa-info" title="{{REQUESTED_AUTHN_CONTEXT_TITLE}}"></i>
            </label>
            <select {{DISABLED}} 
                    id="keep-order" 
                    multiple="multiple">
                    {{REQUESTED_AUTHN_CONTEXT_SELECT}}
            </select>	
            <input {{DISABLED}} id="{{REQUESTED_AUTHN_CONTEXT_FIELD}}" type="hidden" name="{{REQUESTED_AUTHN_CONTEXT_FIELD}}" spaceholder="" value="{{REQUESTED_AUTHN_CONTEXT_VALUE}}"/>
        </p>

        <p class="full-width">
            <em style="color:red">{{REQUESTED_AUTHN_CONTEXT_COMPARISON_ERROR}}</em>
            <label for="{{REQUESTED_AUTHN_CONTEXT_COMPARISON_FIELD}}">
                {{REQUESTED_AUTHN_CONTEXT_COMPARISON_LABEL}}
                <i class="pointer fa fa-info" title="{{REQUESTED_AUTHN_CONTEXT_COMPARISON_TITLE}}"></i>
            </label>
            <select {{DISABLED}} name="{{REQUESTED_AUTHN_CONTEXT_COMPARISON_FIELD}}" id="{{REQUESTED_AUTHN_CONTEXT_COMPARISON_FIELD}}" title="{{REQUESTED_AUTHN_CONTEXT_COMPARISON_TITLE}}">
               {{REQUESTED_AUTHN_CONTEXT_COMPARISON_SELECT}}
            </select>	
        </p>

        <h2 class="full-width">{{HEADER_SECURITY}}</h2>

        <p>
            <em style="color:red">{{ENFORCE_SSO_ERROR}}</em>
            <label for="{{ENFORCE_SSO_FIELD}}">
                {{ENFORCE_SSO_LABEL}}
                <i class="pointer fa fa-info" title="{{ENFORCE_SSO_TITLE}}"></i>
            </label>
            <select {{DISABLED}} name="{{ENFORCE_SSO_FIELD}}" id="{{ENFORCE_SSO_FIELD}}" title="{{ENFORCE_SSO_TITLE}}">
                {{ENFORCE_SSO_SELECT}}
            </select>
        </p>

        <p>
            <em for="{{PROXIED_FIELD}}" style="color:red">{{PROXIED_ERROR}}</em>
            <label for="proxied">
                {{PROXIED_LABEL}}
                <i class="pointer fa fa-info" title="{{PROXIED_TITLE}}"></i>
            </label>
            <select {{DISABLED}} name="{{PROXIED_FIELD}}" id="{{PROXIED_FIELD}}" title="{{PROXIED_TITLE}}">
                {{PROXIED_SELECT}}
            </select>
        </p>

        <p>
            <em for="{{STRICT_FIELD}}" style="color:red">{{STRICT_ERROR}}</em>
            <label for="{{STRICT_FIELD}}">
                {{STRICT_LABEL}}
                <i class="pointer fa fa-info" title="{{STRICT_TITLE}}"></i>
            </label>
            <select {{DISABLED}} name="{{STRICT_FIELD}}" id="{{STRICT_FIELD}}" title="{{STRICT_TITLE}}">
                {{STRICT_SELECT}}
            </select>
        </p>

        <p>
            <em for="{{DEBUG_FIELD}}" style="color:red">{{DEBUG_ERROR}}</em>
            <label for="{{DEBUG_FIELD}}">
                {{DEBUG_LABEL}}
                <i class="pointer fa fa-info" title="{{DEBUG_TITLE}}"></i>
            </label>
            <select {{DISABLED}} name="{{DEBUG_FIELD}}" id="{{DEBUG_FIELD}}" title="{{DEBUG_FIELD}}">
                {{DEBUG_SELECT}}
            </select>
        </p>

        <p>
            <em style="color:red">{{USER_JIT_ERROR}}</em>
            <label for="{{USER_JIT_FIELD}}">
                {{USER_JIT_LABEL}}
                <i class="pointer fa fa-info" title="{{JIT_TITLE}}"></i>
            </label>
            <select {{DISABLED}} name="{{USER_JIT_FIELD}}" id="{{USER_JIT_FIELD}}" title="{{USER_JIT_TITLE}}">
                {{USER_JIT_SELECT}}
            </select>
        </p>


        <p>
            <em style="color:red">{{SECURITY_NAMEIDENCRYPTED_ERROR}}</em>
            <label for="{{SECURITY_NAMEIDENCRYPTED_FIELD}}">
                {{SECURITY_NAMEIDENCRYPTED_LABEL}}
                <i class="pointer fa fa-info" title="{{SECURITY_NAMEIDENCRYPTED_TITLE}}"></i>
            </label>
            <select {{DISABLED}} name="{{SECURITY_NAMEIDENCRYPTED_FIELD}}" id="{{SECURITY_NAMEIDENCRYPTED_FIELD}}" title="{{SECURITY_NAMEIDENCRYPTED_TITLE}}">
                {{SECURITY_NAMEIDENCRYPTED_SELECT}}
            </select>
        </p>

        <p>
            <em style="color:red">{{SECURITY_AUTHNREQUESTSSIGNED_ERROR}}</em>
            <label for="{{SECURITY_AUTHNREQUESTSSIGNED_FIELD}}">
                {{SECURITY_AUTHNREQUESTSSIGNED_LABEL}}
                <i class="pointer fa fa-info" title="{{SECURITY_AUTHNREQUESTSSIGNED_TITLE}}"></i>
            </label>
            <select {{DISABLED}} name="{{SECURITY_AUTHNREQUESTSSIGNED_FIELD}}" id="{{SECURITY_AUTHNREQUESTSSIGNED_FIELD}}" title="{{SECURITY_AUTHNREQUESTSSIGNED_TITLE}}">
                {{SECURITY_AUTHNREQUESTSSIGNED_SELECT}}
            </select>
        </p>

        <p>
            <em style="color:red">{{SECURITY_LOGOUTREQUESTSIGNED_ERROR}}</em>
            <label for="{{SECURITY_LOGOUTREQUESTSIGNED_FIELD}}">
                {{SECURITY_LOGOUTREQUESTSIGNED_LABEL}}  
                <i class="pointer fa fa-info" title="{{SECURITY_LOGOUTREQUESTSIGNED_TITLE}}"></i>
            </label>
            <select {{DISABLED}} name="{{SECURITY_LOGOUTREQUESTSIGNED_FIELD}}" id="{{SECURITY_LOGOUTREQUESTSIGNED_FIELD}}" title="{{SECURITY_LOGOUTREQUESTSIGNED_TITLE}}">
                {{SECURITY_LOGOUTREQUESTSIGNED_SELECT}}
            </select>
        </p>

        <p>
            <em style="color:red">{{SECURITY_LOGOUTRESPONSESIGNED_ERROR}}</em>
            <label for="{{SECURITY_LOGOUTRESPONSESIGNED_FIELD}}">
                {{SECURITY_LOGOUTRESPONSESIGNED_LABEL}}
                <i class="pointer fa fa-info" title="{{SECURITY_LOGOUTRESPONSESIGNED_TITLE}}"></i>
            </label>
            <select {{DISABLED}} name="{{SECURITY_LOGOUTRESPONSESIGNED_FIELD}}" id="{{SECURITY_LOGOUTRESPONSESIGNED_FIELD}}" title="{{SECURITY_LOGOUTRESPONSESIGNED_TITLE}}">
                {{SECURITY_LOGOUTRESPONSESIGNED_SELECT}}
            </select>
        </p>
        
        <p class="full-width">
            <input {{DISABLED}} type="submit" name="update" value="{{SUBMIT}}" class="submit" >
            <input {{DISABLED}} type="submit" name="delete" value="{{DELETE}}" class="purge" >
        </p>
    {{CLOSE_FORM}}
</div>